(function(t){function e(e){for(var a,r,l=e[0],o=e[1],c=e[2],u=0,d=[];u<l.length;u++)r=l[u],i[r]&&d.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);h&&h(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,l=1;l<s.length;l++){var o=s[l];0!==i[o]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={app:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var h=o;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0274":function(t,e,s){},1:function(t,e){},"11ee":function(t,e,s){"use strict";var a=s("709b"),i=s.n(a);i.a},"1d2a":function(t,e,s){"use strict";var a=s("cdec"),i=s.n(a);i.a},"397a":function(t,e,s){"use strict";var a=s("fb66"),i=s.n(a);i.a},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return s(e)}function n(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="4678"},"509d":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=s("bb71");s("da64");a["a"].use(i["a"],{iconfont:"md"});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-toolbar",{attrs:{app:""}},[s("v-toolbar-title",{staticClass:"headline text-uppercase"},[s("span",[t._v("bitAsset")]),s("span",{staticClass:"font-weight-light"},[t._v("BACKING")])]),s("v-spacer"),t.loading?s("LoadingIndicator",{attrs:{size:16,width:3}}):t._e()],1),s("v-content",[s("v-container",{attrs:{fluid:"","grid-list-md":""}},[s("v-layout",{attrs:{wrap:"","align-center":""}},[s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{items:t.enabled_symbols,label:"Select BitAsset",solo:""},model:{value:t.symbol,callback:function(e){t.symbol=e},expression:"symbol"}})],1),s("v-flex",{attrs:{xs12:""}},[s("CallPositions",{attrs:{symbol:t.symbol},on:{loading:t.setLoading}})],1)],1)],1)],1)],1)},r=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.is_loaded()?s("div",[s("CallPositionsOverview",{attrs:{callPositions:t.callPositions,asset:t.asset,collateral_asset:t.collateral_asset,ticker:t.ticker,settlementPrice:t.settlementPrice}}),s("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs4:""}},[s("CallPositionsChartRatios",{attrs:{callPositions:t.callPositions,asset:t.asset,collateral_asset:t.collateral_asset,settlementPrice:t.settlementPrice}})],1),s("v-flex",{attrs:{xs4:""}},[s("CallPositionsChartRatioVsAmount",{attrs:{callPositions:t.callPositions,asset:t.asset,collateral_asset:t.collateral_asset,settlementPrice:t.settlementPrice}})],1),s("v-flex",{attrs:{xs4:""}},[s("CallPositionsChartRatioVsAmountCDF",{attrs:{callPositions:t.callPositions,asset:t.asset,collateral_asset:t.collateral_asset,settlementPrice:t.settlementPrice}})],1)],1)],1)],1):t._e()},o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container")},h=[],u=s("06c1");class d{constructor(){this._nodes=["wss://node.bitshares.eu","wss://eu.nodes.bitshares.ws","wss://us.nodes.bitshares.ws","wss://sg.nodes.bitshares.ws","wss://japan.bitshares.apasia.tech/ws"],this._apiInstance=null,this._connected=!1,this._connectingInProgress=!1,this._resolves=[],this._rejects=[]}connect(){return this._connected?new Promise((t,e)=>{t()}):this._connectingInProgress?new Promise((t,e)=>{this._resolves.push(t),this._rejects.push(e)}):new Promise((t,e)=>{this._connect(null,t,e)})}_onConnect(){this._resolves.forEach(t=>{t()})}_onError(t){this._rejects.forEach(t=>{t()})}_connect(t=null,e,s){this._connected=!1,this._connectingInProgress=!0,null==t&&(t=0),this._apiInstance=u["Apis"].instance(this._nodes[t],!0),this._apiInstance.init_promise.then(()=>{this._connectingInProgress=!1,this._connected=!0,e(),this._onConnect()}).catch(a=>{t+=1,t>this._nodes.length-1&&(this._connectingInProgress=!1,s(a),this._onError()),this._apiInstance.close().then(()=>{this._apiInstance=null,this._connect(t,e,s)})})}db_exec(t,e){return this._apiInstance._db.exec(t,e)}getCallOrders(t="1.3.121"){return this.db_exec("get_call_orders",[t,2**32-1])}getAssetFromSymbols(t){return this.db_exec("lookup_asset_symbols",[t])}getObjects(t){return this.db_exec("get_objects",[t])}getTicker(t,e){return this.db_exec("get_ticker",[t,e])}}const f=new d;var b=f,_={name:"AbstractBitSharesWidget",props:[],data(){return{stateName:"Initializing",errorName:null,chainConnected:null,chain:b}},created:function(){setTimeout(()=>{this.stateName="ConnectingToChain",this._connectToChainAndStart()},1)},methods:{errored:function(t,e=""){this.stateName="Errored",this.errorName=t},_connectToChainAndStart:function(){this.chain.connect().then(()=>{this.chainConnected=!0,this.stateName="ConnectedToChain",this.onConnected()}).catch(t=>{this.errored(t),console.log("Connection attempt failed",t),this.chainConnected=!1})},onConnected:function(t){}}},m=_,p=(s("e845"),s("2877")),j=s("6544"),v=s.n(j),g=s("a523"),P=Object(p["a"])(m,c,h,!1,null,null,null);P.options.__file="BitSharesConnect.vue";var y=P.exports;v()(P,{VContainer:g["a"]});var C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-xs-center"},[s("v-progress-circular",{attrs:{size:t.size,width:t.width,color:"green",indeterminate:""}})],1)},k=[],x={name:"LoadingIndicator",props:{size:{type:[Number,String],default:70,coerce:t=>parseFloat(t)},width:{type:[Number,String],default:7,coerce:t=>parseFloat(t)}}},w=x,F=(s("b6ad"),s("490a")),A=Object(p["a"])(w,C,k,!1,null,null,null);A.options.__file="LoadingIndicator.vue";var O=A.exports;v()(A,{VProgressCircular:F["a"]});var L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-list",{attrs:{dense:""}},[t._l(t.mainitems,function(e,a){return[s("v-list-tile",{key:a},[s("v-list-tile-content",[t._v(t._s(e.name))]),s("v-list-tile-content",{key:e.name,staticClass:"align-end"},[t._v(t._s(e.value))])],1)]})],2)],1)},z=[],V={name:"CallPositionsOverview",props:["callPositions","asset","collateral_asset","ticker","settlementPrice"],methods:{formatPrice(t,e,s){var a=new Intl.NumberFormat("en-US",{style:"currency",currency:s,maximumFractionDigits:e,minimumFractionDigits:2});return a.format(t)}},computed:{mainitems(){return[{name:"Collateral",value:this.totalCollateral},{name:"Debt",value:this.totalDebt},{name:"Number positions",value:this.numberPositions},{name:"Last Price",value:this.lastPrice},{name:"Settlement Price",value:this.formatSettlementPrice},{name:"Backing ratio",value:this.averageRatio}]},totalCollateral(){if(!this.collateral_asset)return;if(!this.callPositions)return;let t=this.callPositions.reduce((t,e)=>t+parseFloat(e.collateral),0)/10**this.collateral_asset.precision;return this.formatPrice(t,this.collateral_asset.precision,this.collateral_asset.symbol)},totalDebt(){if(!this.asset)return;if(!this.callPositions)return;let t=this.callPositions.reduce((t,e)=>t+parseFloat(e.debt),0)/10**this.asset.precision;return this.formatPrice(t,this.asset.precision,this.asset.symbol)},averageRatio(){if(!this.asset)return;if(!this.callPositions)return;if(!this.collateral_asset)return;let t=parseFloat(this.settlementPrice),e=this.callPositions.reduce((t,e)=>t+parseFloat(e.debt),0)/10**this.asset.precision,s=this.callPositions.reduce((t,e)=>t+parseFloat(e.collateral),0)/10**this.collateral_asset.precision,a=s*t/e;return a.toFixed(4)+"x"},numberPositions(){if(this.collateral_asset)return this.callPositions.length},formatSettlementPrice(){if(!this.asset)return;if(!this.collateral_asset)return;let t=this.settlementPrice;return t.toFixed(4)+" "+this.asset.symbol+"/"+this.collateral_asset.symbol},lastPrice(){if(!this.asset)return;if(!this.collateral_asset)return;if(!this.ticker)return;let t=parseFloat(this.ticker.latest);return t.toFixed(4)+" "+this.asset.symbol+"/"+this.collateral_asset.symbol}}},S=V,R=(s("a554"),s("b0af")),I=s("8860"),M=s("ba95"),D=s("5d23"),E=Object(p["a"])(S,L,z,!1,null,null,null);E.options.__file="CallPositionsOverview.vue";var T=E.exports;v()(E,{VCard:R["a"],VList:I["a"],VListTile:M["a"],VListTileContent:D["a"]});var N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loaded?s("CallPositionsChart",{attrs:{chartData:t.chart_amount_vs_ratio,chartLabels:t.chart_amount_vs_ratio_labels,yLabel:"Amount per Ratio"}}):t._e()},B=[],$=s("1fca");const{reactiveProp:U}=$["b"];var q,J,W={extends:$["a"],mixins:[U],props:{chartData:{type:Array|Object,required:!1},chartLabels:{type:Array,required:!0},yLabel:{type:String,default:""}},data(){return{options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:this.yLabel},ticks:{beginAtZero:!0},gridLines:{display:!0}}],xAxes:[{scaleLabel:{display:!0,labelString:"Collateral Ratio"},ticks:{max:10,min:0,userCallback:function(t,e,s){return t.toFixed(2)}},gridLines:{display:!0}}]},legend:{display:!1},responsive:!0,maintainAspectRatio:!1}}},mounted(){this.renderChart({labels:this.chartLabels,datasets:[{borderColor:"#249EBF",borderWidth:0,pointBackgroundColor:"white",pointBorderColor:"#249EBF",backgroundColor:"transparent",data:this.chartData}]},this.options)}},G=W,H=(s("8f1f"),Object(p["a"])(G,q,J,!1,null,null,null));H.options.__file="CallPositionsChart.vue";var K=H.exports,Y={name:"CallPositionsChartRatioVsAmount",props:["callPositions","asset","collateral_asset","settlementPrice"],components:{CallPositionsChart:K},data(){return{chart_amount_vs_ratio:null,chart_amount_vs_ratio_labels:null,loaded:!1}},methods:{},mounted(){let t=parseFloat(this.settlementPrice),e=this.callPositions.map(e=>{let s=parseFloat(e.debt)/10**this.asset.precision,a=parseFloat(e.collateral)/10**this.collateral_asset.precision,i=a*t/s;return{ratio:i,debt:s,collateral:a}});e=e.filter(t=>t.ratio<10),e=e.filter(t=>t.debt>1e3),e.unshift({ratio:0,debt:0,collateral:0});let s=e.map(t=>t.debt),a=e.map(t=>t.ratio);this.chart_amount_vs_ratio=s,this.chart_amount_vs_ratio_labels=a,this.loaded=!0}},Z=Y,Q=(s("1d2a"),Object(p["a"])(Z,N,B,!1,null,null,null));Q.options.__file="CallPositionsChartRatioVsAmount.vue";var X=Q.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loaded?s("CallPositionsChart",{attrs:{chartData:t.chart_amount_vs_ratio_cdf,chartLabels:t.chart_amount_vs_ratio_cdf_labels,yLabel:"Amount per Ratio"}}):t._e()},et=[],st={name:"CallPositionsChartRatioVsAmountCDF",props:["callPositions","asset","collateral_asset","settlementPrice"],components:{CallPositionsChart:K},data(){return{chart_amount_vs_ratio_cdf:null,chart_amount_vs_ratio_cdf_labels:null,loaded:!1}},methods:{cumsum(t){return t.reduce(function(t,e){return t.push((t.length&&t[t.length-1]||0)+e),t},[])}},mounted(){let t=parseFloat(this.settlementPrice),e=this.callPositions.map(e=>{let s=parseFloat(e.debt)/10**this.asset.precision,a=parseFloat(e.collateral)/10**this.collateral_asset.precision,i=a*t/s;return{ratio:i,debt:s,collateral:a}});e=e.filter(t=>t.ratio<10),e=e.filter(t=>t.debt>1e3),e.unshift({ratio:0,debt:0,collateral:0});let s=e.map(t=>t.debt),a=e.map(t=>t.ratio);s=this.cumsum(s),this.chart_amount_vs_ratio_cdf=s,this.chart_amount_vs_ratio_cdf_labels=a,this.loaded=!0}},at=st,it=(s("83ae"),Object(p["a"])(at,tt,et,!1,null,null,null));it.options.__file="CallPositionsChartRatioVsAmountCDF.vue";var nt=it.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loaded?s("CallPositionsChart",{attrs:{chartData:t.chart_ratios,chartLabels:t.chart_ratios_labels,yLabel:"# Positions/Histogram"}}):t._e()},lt=[];function ot(t,e){e=e||{},e.copy=void 0===e.copy||e.copy,e.pretty=void 0===e.pretty||e.pretty;var s=t;function a(t){var e=1+(s.length-1)*t,a=Math.floor(e),i=Math.ceil(e),n=e-a;return(1-n)*s[a]+n*s[i]}function i(){var t=a(.75)-a(.25);return 2*t*Math.pow(s.length,-1/3)}function n(t){var e=Math.pow(10,Math.floor(Math.log(t/10)/Math.LN10)),s=10/t*e;return s<=.15?e*=10:s<=.35?e*=5:s<=.75&&(e*=2),10*e}e.copy&&(s=s.slice()),s.sort(function(t,e){return t-e});var r=i();function l(t){return r*Math.floor(t/r)}function o(t){var e=[l(s[0]),r+l(s[s.length-1])],a=Math.round((e[1]-e[0])/r),i=a>t?Math.round(a/t):1,n=a%i;return[e[0]+r*Math.floor(n/2),e[1]-r*Math.ceil(n/2)+.5*r,r*i]}return e.pretty&&(r=n(r)),{size:r,fun:l,tickRange:o}}function ct(t,e,s=1){const a=Math.floor((e-t)/s)+1;return Array(a).fill().map((e,a)=>t+a*s)}function ht(t){for(var e=ot(t),s=e.tickRange(),a=ct(s[0],Math.round(s[1]),s[2]),i=Array(a.length).fill(0),n=0;n<t.length;n++){var r=t[n],l=a.indexOf(e.fun(r));i[l]=i[l]+1}return{labels:a,bins:i}}var ut=ht,dt={name:"CallPositionsChartRatios",props:["callPositions","asset","collateral_asset","settlementPrice"],components:{CallPositionsChart:K},data(){return{chart_ratios:null,chart_ratios_labels:null,loaded:!1}},methods:{},mounted(){let t=parseFloat(this.settlementPrice),e=this.callPositions.map(e=>{let s=parseFloat(e.debt)/10**this.asset.precision,a=parseFloat(e.collateral)/10**this.collateral_asset.precision;return(a*t/s).toFixed(2)});e.push(0),e=e.filter(t=>t<=10);let s=ut(e);this.chart_ratios=s.bins,this.chart_ratios_labels=s.labels,this.loaded=!0}},ft=dt,bt=(s("397a"),Object(p["a"])(ft,rt,lt,!1,null,null,null));bt.options.__file="CallPositionsChartRatios.vue";var _t=bt.exports,mt={name:"Backing",props:["symbol"],extends:y,components:{LoadingIndicator:O,CallPositionsChartRatioVsAmount:X,CallPositionsChartRatios:_t,CallPositionsOverview:T,CallPositionsChartRatioVsAmountCDF:nt},data(){return{callPositions:[],ticker:null,asset_id:"1.3.121",asset:null,collateral_asset_id:null,collateral_asset:null,asset_bitasset_data:null,chart_amount_vs_ratio:null,chart_amount_vs_ratio_labels:null,chart_amount_vs_ratio_cdf:null,chart_amount_vs_ratio_cdf_labels:null}},computed:{settlementPrice(){if(!this.asset_bitasset_data)return;if(!this.asset)return;if(!this.collateral_asset)return;let t=this.asset_bitasset_data.current_feed.settlement_price;return t.base.amount*10**this.collateral_asset.precision/(t.quote.amount*10**this.asset.precision)}},watch:{symbol:function(t,e){console.log("Prop changed: ",t," | was: ",e),this.$emit("loading",!0),this.reset(),this.getAssets()}},methods:{finish_loading(){this.is_loaded()&&this.$emit("loading",!1)},reset(){this.asset=null,this.collateral_asset=null,this.ticker=null,this.asset_bitasset_data=null},is_loaded(){return this.asset&&this.collateral_asset&&this.ticker&&this.asset_bitasset_data},onConnected(){this.getAssets()},getCallPositions(){this.asset_id&&this.chain.getCallOrders(this.asset_id).then(t=>this.callPositions=t).catch(t=>console.error(t)).finally(()=>{this.finish_loading()})},getBackingAsset(){this.asset&&this.chain.getObjects([this.asset.bitasset_data_id]).then(t=>{t=t[0],this.asset_bitasset_data=t,this.collateral_asset_id=t.options.short_backing_asset,this.chain.getObjects([this.collateral_asset_id]).then(t=>{this.collateral_asset=t[0],this.getCallPositions(),this.getTicker()}).catch(t=>console.error(t)).finally(()=>{this.finish_loading()})}).catch(t=>console.error(t))},getTicker(){this.asset_id&&this.collateral_asset_id&&this.chain.getTicker(this.asset_id,this.collateral_asset_id).then(t=>this.ticker=t).catch(t=>console.error(t)).finally(()=>{this.finish_loading()})},getAssets(){this.chain.getAssetFromSymbols([this.symbol]).then(t=>{t=t[0],this.asset=t,this.asset_id=t.id,this.getBackingAsset()}).catch(t=>console.error(t))}}},pt=mt,jt=(s("11ee"),s("0e8f")),vt=s("a722"),gt=Object(p["a"])(pt,l,o,!1,null,null,null);gt.options.__file="CallPositions.vue";var Pt=gt.exports;v()(gt,{VContainer:g["a"],VFlex:jt["a"],VLayout:vt["a"]});var yt={name:"App",components:{CallPositions:Pt,LoadingIndicator:O},data(){return{loading:!0,symbol:"USD",enabled_symbols:["USD","CNY","EUR"]}},methods:{setLoading(t){this.loading=t}}},Ct=yt,kt=s("7496"),xt=s("549c"),wt=s("b56d"),Ft=s("9910"),At=s("71d9"),Ot=s("2a7f"),Lt=Object(p["a"])(Ct,n,r,!1,null,null,null);Lt.options.__file="App.vue";var zt=Lt.exports;v()(Lt,{VApp:kt["a"],VContainer:g["a"],VContent:xt["a"],VFlex:jt["a"],VLayout:vt["a"],VSelect:wt["a"],VSpacer:Ft["a"],VToolbar:At["a"],VToolbarTitle:Ot["a"]}),a["a"].config.productionTip=!1,new a["a"]({render:t=>t(zt)}).$mount("#app")},"709b":function(t,e,s){},"83ae":function(t,e,s){"use strict";var a=s("8816"),i=s.n(a);i.a},8816:function(t,e,s){},"8f1f":function(t,e,s){"use strict";var a=s("fb11"),i=s.n(a);i.a},"92b9":function(t,e,s){},a554:function(t,e,s){"use strict";var a=s("92b9"),i=s.n(a);i.a},b6ad:function(t,e,s){"use strict";var a=s("0274"),i=s.n(a);i.a},cdec:function(t,e,s){},e845:function(t,e,s){"use strict";var a=s("509d"),i=s.n(a);i.a},fb11:function(t,e,s){},fb66:function(t,e,s){}});
//# sourceMappingURL=app.5aef92f8.js.map